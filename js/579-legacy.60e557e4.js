(self["webpackChunklin_cms_vvlog"]=self["webpackChunklin_cms_vvlog"]||[]).push([[579],{50324:function(e,a,t){var n=t(58158);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},93136:function(e,a,t){var n=t(42721),i=t(59030),r=t(17664),o=t(57036),l=t(73017),c=n(o),d=n("".slice),u=Math.ceil,s=function(e){return function(a,t,n){var o,s,m=r(l(a)),h=i(t),f=m.length,p=void 0===n?" ":r(n);return h<=f||""==p?m:(o=h-f,s=c(p,u(o/p.length)),s.length>o&&(s=d(s,0,o)),e?m+s:s+m)}};e.exports={start:s(!1),end:s(!0)}},57036:function(e,a,t){"use strict";var n=t(76628),i=t(17664),r=t(73017),o=RangeError;e.exports=function(e){var a=i(r(this)),t="",l=n(e);if(l<0||l==1/0)throw o("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))1&l&&(t+=a);return t}},15206:function(e,a,t){"use strict";var n=t(61217),i=t(65358),r=t(79722),o=t(64264),l=t(59030),c=t(17664),d=t(73017),u=t(36329),s=t(26841),m=t(82366);i("match",(function(e,a,t){return[function(a){var t=d(this),i=o(a)?void 0:u(a,e);return i?n(i,a,t):new RegExp(a)[e](c(t))},function(e){var n=r(this),i=c(e),o=t(a,n,i);if(o.done)return o.value;if(!n.global)return m(n,i);var d=n.unicode;n.lastIndex=0;var u,h=[],f=0;while(null!==(u=m(n,i))){var p=c(u[0]);h[f]=p,""===p&&(n.lastIndex=s(i,l(n.lastIndex),d)),f++}return 0===f?null:h}]}))},85200:function(e,a,t){"use strict";var n=t(79053),i=t(93136).start,r=t(50324);n({target:"String",proto:!0,forced:r},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},63195:function(e,a,t){"use strict";t.d(a,{Z:function(){return Z}});var n=t(6808),i=function(e){return(0,n.dD)("data-v-0aa55870"),e=e(),(0,n.Cn)(),e},r={class:"form-column"},o={class:"form-row"},l={class:"form-item"},c=i((function(){return(0,n._)("strong",null,"姓名：",-1)})),d={class:"form-item"},u=i((function(){return(0,n._)("strong",null,"日期类型：",-1)})),s={class:"form-item"},m=i((function(){return(0,n._)("strong",null,"日期：",-1)})),h={class:"form-item"},f=i((function(){return(0,n._)("strong",null,"时辰：",-1)})),p={class:"form-item"},v=i((function(){return(0,n._)("strong",null,"性别：",-1)})),g={key:0,class:"form-item"},b=i((function(){return(0,n._)("strong",null,"是否闰月：",-1)}));function M(e,a,t,i,M,k){var D=(0,n.up)("el-input"),I=(0,n.up)("el-option"),y=(0,n.up)("el-select"),z=(0,n.up)("el-date-picker"),_=(0,n.up)("el-checkbox");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",o,[(0,n._)("div",l,[c,(0,n.Wm)(D,{modelValue:k.nameModel,"onUpdate:modelValue":a[0]||(a[0]=function(e){return k.nameModel=e}),placeholder:"选填"},null,8,["modelValue"])]),(0,n._)("div",d,[u,(0,n.Wm)(y,{modelValue:k.dateTypeModel,"onUpdate:modelValue":a[1]||(a[1]=function(e){return k.dateTypeModel=e}),placeholder:"请选择日期类型",onChange:k.handleDateTypeChange},{default:(0,n.w5)((function(){return[(0,n.Wm)(I,{label:"阳历",value:"solar"}),(0,n.Wm)(I,{label:"农历",value:"lunar"})]})),_:1},8,["modelValue","onChange"])]),(0,n._)("div",s,[m,(0,n.Wm)(z,{modelValue:k.dateModel,"onUpdate:modelValue":a[2]||(a[2]=function(e){return k.dateModel=e}),type:"date",placeholder:"solar"===k.dateTypeModel?"请选择阳历日期":"请选择农历日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:k.handleDateChange},null,8,["modelValue","placeholder","onChange"])]),(0,n._)("div",h,[f,(0,n.Wm)(y,{modelValue:k.timeIndexModel,"onUpdate:modelValue":a[3]||(a[3]=function(e){return k.timeIndexModel=e}),placeholder:"请选择时辰"},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(M.timeOptions,(function(e,a){return(0,n.wg)(),(0,n.j4)(I,{key:a,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]),(0,n._)("div",p,[v,(0,n.Wm)(y,{modelValue:k.genderModel,"onUpdate:modelValue":a[4]||(a[4]=function(e){return k.genderModel=e}),placeholder:"请选择性别"},{default:(0,n.w5)((function(){return[(0,n.Wm)(I,{label:"男",value:"male"}),(0,n.Wm)(I,{label:"女",value:"female"})]})),_:1},8,["modelValue"])]),"lunar"===k.dateTypeModel?((0,n.wg)(),(0,n.iD)("div",g,[b,(0,n.Wm)(_,{modelValue:k.isLeapMonthModel,"onUpdate:modelValue":a[5]||(a[5]=function(e){return k.isLeapMonthModel=e})},{default:(0,n.w5)((function(){return[(0,n.Uk)("闰月")]})),_:1},8,["modelValue"])])):(0,n.kq)("",!0)])])}t(99133);var k=t(30653),D=t(52009),I=t(39821),y=t(6120),z={name:"AstroForm",components:{ElSelect:k.km,ElOption:k.BT,ElDatePicker:D.iJ,ElCheckbox:I.Xb,ElInput:y.EZ},props:{name:{type:String,default:""},dateType:{type:String,default:"solar"},date:{type:String,default:""},timeIndex:{type:String,default:"0"},gender:{type:String,default:"male"},isLeapMonth:{type:Boolean,default:!1}},data:function(){return{timeOptions:[{label:"早子时 (00:00-1:00)",value:"0"},{label:"丑时 (1:00-3:00)",value:"1"},{label:"寅时 (3:00-5:00)",value:"2"},{label:"卯时 (5:00-7:00)",value:"3"},{label:"辰时 (7:00-9:00)",value:"4"},{label:"巳时 (9:00-11:00)",value:"5"},{label:"午时 (11:00-13:00)",value:"6"},{label:"未时 (13:00-15:00)",value:"7"},{label:"申时 (15:00-17:00)",value:"8"},{label:"酉时 (17:00-19:00)",value:"9"},{label:"戌时 (19:00-21:00)",value:"10"},{label:"亥时 (21:00-23:00)",value:"11"},{label:"晚子时 (23:00-00:00)",value:"12"}]}},computed:{nameModel:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},dateTypeModel:{get:function(){return this.dateType},set:function(e){this.$emit("update:dateType",e)}},dateModel:{get:function(){return this.date},set:function(e){this.$emit("update:date",e)}},timeIndexModel:{get:function(){return this.timeIndex},set:function(e){this.$emit("update:timeIndex",e)}},genderModel:{get:function(){return this.gender},set:function(e){this.$emit("update:gender",e)}},isLeapMonthModel:{get:function(){return this.isLeapMonth},set:function(e){this.$emit("update:isLeapMonth",e)}}},methods:{handleDateTypeChange:function(){this.dateModel="",this.$emit("dateTypeChange")},handleDateChange:function(){this.isLeapMonthModel=!1,this.$emit("dateChange")},resetForm:function(){this.nameModel="",this.dateTypeModel="solar",this.dateModel="",this.timeIndexModel="0",this.genderModel="male",this.isLeapMonthModel=!1},getFormData:function(){return{name:this.nameModel,dateType:this.dateTypeModel,date:this.dateModel,timeIndex:this.timeIndexModel,gender:this.genderModel,isLeapMonth:this.isLeapMonthModel}}}},_=t(64186);const w=(0,_.Z)(z,[["render",M],["__scopeId","data-v-0aa55870"]]);var Z=w},31579:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return N}});var n=t(6808),i=t(59511),r=function(e){return(0,n.dD)("data-v-e59afdd4"),e=e(),(0,n.Cn)(),e},o={class:"sxys-container"},l=(0,n.uE)('<div class="cosmic-background" data-v-e59afdd4><div class="overlay" data-v-e59afdd4></div><div class="page-title" data-v-e59afdd4><h2 data-v-e59afdd4>生肖运势</h2><div class="title-decoration" data-v-e59afdd4><span class="star-icon" data-v-e59afdd4>✨</span><span class="heart-icon" data-v-e59afdd4>❤</span><span class="star-icon" data-v-e59afdd4>✨</span></div><p class="subtitle" data-v-e59afdd4>探索生肖奥秘，解读今年运势</p></div></div>',1),c={class:"content-section"},d={class:"info-card"},u=r((function(){return(0,n._)("div",{class:"card-header"},[(0,n._)("h3",null,[(0,n._)("i",{class:"info-icon"},"📝"),(0,n.Uk)(" 个人信息")])],-1)})),s={class:"card-body"},m={key:0,class:"info-card"},h=r((function(){return(0,n._)("div",{class:"card-header"},[(0,n._)("h3",null,[(0,n._)("i",{class:"info-icon"},"🐾"),(0,n.Uk)(" 您的生肖")])],-1)})),f={class:"card-body"},p={key:0,class:"zodiac-result"},v={class:"zodiac-icon"},g={class:"zodiac-info"},b={class:"action-section"},M=r((function(){return(0,n._)("i",{class:"match-icon"},"❤",-1)}));function k(e,a,t,r,k,D){var I=(0,n.up)("astro-form"),y=(0,n.up)("zodiac-selector"),z=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",o,[l,(0,n._)("div",c,[(0,n._)("div",d,[u,(0,n._)("div",s,[(0,n.Wm)(I,{name:k.malename,"onUpdate:name":a[0]||(a[0]=function(e){return k.malename=e}),dateType:k.maleDateTime,"onUpdate:dateType":a[1]||(a[1]=function(e){return k.maleDateTime=e}),date:k.maleDate,"onUpdate:date":a[2]||(a[2]=function(e){return k.maleDate=e}),timeIndex:k.maleTimeIndex,"onUpdate:timeIndex":[a[3]||(a[3]=function(e){return k.maleTimeIndex=e}),D.calculateBazi],gender:k.maleGender,"onUpdate:gender":a[4]||(a[4]=function(e){return k.maleGender=e}),isLeapMonth:k.maleIsLeapMonth,"onUpdate:isLeapMonth":a[5]||(a[5]=function(e){return k.maleIsLeapMonth=e}),onDateTypeChange:D.handleMaleDateTypeChange,onDateChange:D.handleMaleDateChange},null,8,["name","dateType","date","timeIndex","gender","isLeapMonth","onDateTypeChange","onDateChange","onUpdate:timeIndex"])])]),k.maleDate?((0,n.wg)(),(0,n.iD)("div",m,[h,(0,n._)("div",f,[k.calculatedZodiac?((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("div",v,(0,i.zw)(D.getZodiacIcon(k.calculatedZodiac)),1),(0,n._)("div",g,[(0,n._)("h4",null,(0,i.zw)(D.getZodiacName(k.calculatedZodiac)),1),(0,n._)("p",null,"根据您的出生年份，您的生肖是"+(0,i.zw)(D.getZodiacName(k.calculatedZodiac)),1)])])):((0,n.wg)(),(0,n.j4)(y,{key:1,value:k.selectedZodiac,onSelect:D.onZodiacSelect},null,8,["value","onSelect"]))])])):(0,n.kq)("",!0)]),(0,n._)("div",b,[(0,n.Wm)(z,{type:"danger",onClick:D.generateAstro,loading:k.loading,class:"generate-btn"},{default:(0,n.w5)((function(){return[M,(0,n.Uk)(" 生肖运势分析 ")]})),_:1},8,["onClick","loading"])])])}var D=t(46559),I=t(78955),y=(t(99133),t(94343),t(26269),t(67991),t(10711),t(85200),t(15206),t(91216),t(14632),t(63195)),z=function(e){return(0,n.dD)("data-v-246d5e2a"),e=e(),(0,n.Cn)(),e},_={class:"zodiac-selector"},w=z((function(){return(0,n._)("h3",{class:"selection-title"},[(0,n.Uk)("选择生肖 "),(0,n._)("span",{class:"hint"},"(点击选择您的生肖)")],-1)})),Z={class:"zodiac-grid"},T=["onClick"],x={class:"zodiac-icon"},C={class:"zodiac-name"};function S(e,a,t,r,o,l){return(0,n.wg)(),(0,n.iD)("div",_,[w,(0,n._)("div",Z,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.zodiacAnimals,(function(e,a){return(0,n.wg)(),(0,n.iD)("div",{key:a,class:(0,i.C_)(["zodiac-item",{selected:o.selectedZodiac===e.value}]),onClick:function(a){return l.selectZodiac(e.name,e.value)}},[(0,n._)("div",x,(0,i.zw)(e.icon),1),(0,n._)("span",C,(0,i.zw)(e.name),1)],10,T)})),128))])])}var L={name:"ZodiacSelector",props:{value:{type:String,default:""}},data:function(){return{selectedZodiac:this.value,zodiacAnimals:[{name:"鼠",value:"rat",icon:"🐭"},{name:"牛",value:"ox",icon:"🐂"},{name:"虎",value:"tiger",icon:"🐯"},{name:"兔",value:"rabbit",icon:"🐰"},{name:"龙",value:"dragon",icon:"🐲"},{name:"蛇",value:"snake",icon:"🐍"},{name:"马",value:"horse",icon:"🐴"},{name:"羊",value:"goat",icon:"🐑"},{name:"猴",value:"monkey",icon:"🐵"},{name:"鸡",value:"rooster",icon:"🐔"},{name:"狗",value:"dog",icon:"🐶"},{name:"猪",value:"pig",icon:"🐷"}]}},methods:{selectZodiac:function(e,a){this.selectedZodiac=a,this.$emit("update:value",a),this.$emit("select",{name:e,value:a})},calculateZodiac:function(e){if(!e)return"";var a;if("string"===typeof e){var t=e.match(/\d{4}/);if(!t)return"";a=parseInt(t[0])}else{if("number"!==typeof e)return"";a=e}var n=(a-4)%12;return this.zodiacAnimals[n].value},getZodiacName:function(e){var a=this.zodiacAnimals.find((function(a){return a.value===e}));return a?a.name:""},getZodiacIcon:function(e){var a=this.zodiacAnimals.find((function(a){return a.value===e}));return a?a.icon:""}}},U=t(64186);const V=(0,U.Z)(L,[["render",S],["__scopeId","data-v-246d5e2a"]]);var Y=V,A=t(6120),W=t(1235),B=t(67347),E=t.n(B),$={components:{AstroForm:y.Z,ZodiacSelector:Y,ElInput:A.EZ},data:function(){return{malename:"",maleDateTime:"solar",maleDate:"",maleTimeIndex:"0",maleGender:"male",maleIsLeapMonth:!1,currentTime:"",loading:!1,baziInfo:null,showBaziInfo:!1,baziStr:"",calculatedZodiac:"",selectedZodiac:"",zodiacAnimals:[{name:"鼠",value:"rat",icon:"🐭"},{name:"牛",value:"ox",icon:"🐂"},{name:"虎",value:"tiger",icon:"🐯"},{name:"兔",value:"rabbit",icon:"🐰"},{name:"龙",value:"dragon",icon:"🐲"},{name:"蛇",value:"snake",icon:"🐍"},{name:"马",value:"horse",icon:"🐴"},{name:"羊",value:"goat",icon:"🐑"},{name:"猴",value:"monkey",icon:"🐵"},{name:"鸡",value:"rooster",icon:"🐔"},{name:"狗",value:"dog",icon:"🐶"},{name:"猪",value:"pig",icon:"🐷"}]}},methods:{handleMaleDateTypeChange:function(){this.maleDate="",this.calculatedZodiac=""},handleMaleDateChange:function(){this.maleIsLeapMonth=!1,this.calculateZodiacFromDate(),this.calculateBazi()},getBaziStr:function(){this.baziStr=",八字信息如下："+this.baziInfo.char8.year.name+" "+this.baziInfo.char8.month.name+" "+this.baziInfo.char8.day.name+" "+this.baziInfo.char8.hour.name},calculateBazi:function(){if(this.maleDate&&this.maleTimeIndex)try{var e,a="";if("solar"===this.maleDateTime){if(!/^\d{4}-\d{2}-\d{2}$/.test(this.maleDate))return void W.z8.error("阳历日期格式不正确，请使用YYYY-MM-DD格式")}else if(!/^\d{4}-\d{1,2}-\d{1,2}$/.test(this.maleDate))return void W.z8.error("农历日期格式不正确，请使用YYYY-MM-DD格式");switch(this.maleTimeIndex){case"0":a="00:30";break;case"1":a="02:00";break;case"2":a="04:00:";break;case"3":a="06:00";break;case"4":a="08:00";break;case"5":a="10:00";break;case"6":a="12:00";break;case"7":a="14:00";break;case"8":a="16:00";break;case"9":a="18:00";break;case"10":a="20:00";break;case"11":a="22:00";break;case"12":a="23:30";break;default:a="12:00:00";break}if("solar"===this.maleDateTime)try{if(e=new(E())("".concat(this.maleDate," ").concat(a)),this.baziInfo=e,this.getBaziStr(),console.log("".concat(this.maleDate," ").concat(a)),!e)return void W.z8.error("创建日期对象失败，请检查日期是否有效")}catch(l){return console.error("创建阳历日期对象失败:",l),void W.z8.error("创建阳历日期对象失败，请检查日期是否有效")}else try{var t=this.maleDate.split("-"),n=parseInt(t[0]),i=parseInt(t[1]),r=parseInt(t[2]),o={year:n,month:this.maleIsLeapMonth?i+100:i,day:r,hour:parseInt(this.maleTimeIndex)};if(e=E().fromLunar(o),this.baziInfo=e,this.getBaziStr(),console.log("农历数据:",o),!e)return void W.z8.error("创建农历日期对象失败，请检查日期是否有效")}catch(l){return console.error("创建农历日期对象失败:",l),void W.z8.error("创建农历日期对象失败，请检查日期是否有效")}if(this.baziInfo=e,!this.baziInfo)throw new Error("获取八字信息失败");this.showBaziInfo=!0}catch(l){console.error("计算八字信息时出错:",l),this.showBaziInfo=!1}else this.showBaziInfo=!1},getCurrentDate:function(){var e=new Date,a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");this.currentTime="".concat(a,"-").concat(t,"-").concat(n)},calculateZodiacFromDate:function(){if(this.maleDate){var e=this.maleDate.match(/\d{4}/);if(e){var a=parseInt(e[0]),t=(a-4)%12;t>=0&&t<12&&(this.calculatedZodiac=this.zodiacAnimals[t].value)}}},onZodiacSelect:function(e){this.selectedZodiac=e.value},getZodiacName:function(e){var a=this.zodiacAnimals.find((function(a){return a.value===e}));return a?a.name:""},getZodiacIcon:function(e){var a=this.zodiacAnimals.find((function(a){return a.value===e}));return a?a.icon:""},generateAstro:function(){var e=this;return(0,I.Z)((0,D.Z)().mark((function a(){var t,n,i,r,o,l;return(0,D.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.maleDate){a.next=3;break}return W.z8.warning("请选择出生日期"),a.abrupt("return");case 3:e.loading=!0,a.prev=4,t="",a.t0=e.maleTimeIndex,a.next="0"===a.t0?9:"1"===a.t0?11:"2"===a.t0?13:"3"===a.t0?15:"4"===a.t0?17:"5"===a.t0?19:"6"===a.t0?21:"7"===a.t0?23:"8"===a.t0?25:"9"===a.t0?27:"10"===a.t0?29:"11"===a.t0?31:"12"===a.t0?33:35;break;case 9:return t="早子时 (00:00-1:00)",a.abrupt("break",37);case 11:return t="丑时 (1:00-3:00)",a.abrupt("break",37);case 13:return t="寅时 (3:00-5:00)",a.abrupt("break",37);case 15:return t="卯时 (5:00-7:00)",a.abrupt("break",37);case 17:return t="辰时 (7:00-9:00)",a.abrupt("break",37);case 19:return t="巳时 (9:00-11:00)",a.abrupt("break",37);case 21:return t="午时 (11:00-13:00)",a.abrupt("break",37);case 23:return t="未时 (13:00-15:00)",a.abrupt("break",37);case 25:return t="申时 (15:00-17:00)",a.abrupt("break",37);case 27:return t="酉时 (17:00-19:00)",a.abrupt("break",37);case 29:return t="戌时 (19:00-21:00)",a.abrupt("break",37);case 31:return t="亥时 (21:00-23:00)",a.abrupt("break",37);case 33:return t="晚子时 (23:00-00:00)",a.abrupt("break",37);case 35:return t="未知时辰",a.abrupt("break",37);case 37:e.getCurrentDate(),n="",e.calculatedZodiac?n="，生肖：".concat(e.getZodiacName(e.calculatedZodiac)):e.selectedZodiac&&(n="，生肖：".concat(e.getZodiacName(e.selectedZodiac))),i="今天日期是："+e.currentTime+"我需要你对我的八字进行分析，看看我的生肖运势如何，这是信息：",r=i+"姓名:"+e.malename+",日期类型:"+("solar"===e.maleDateTime?"阳历":"农历")+",生日:"+e.maleDate+",时辰:"+t+",性别:"+("male"===e.maleGender?"男":"女")+n,"lunar"===e.maleDateTime&&e.maleIsLeapMonth&&(r+=",闰月:是"),o=encodeURIComponent(r);try{l=window.open("/#/chat?user_input=".concat(o)),l&&!l.closed&&"undefined"!==typeof l.closed||(window.location.href="/#/chat?user_input=".concat(o))}catch(c){window.location.href="/#/chat?user_input=".concat(o)}a.next=51;break;case 47:a.prev=47,a.t1=a["catch"](4),W.z8.error("生成生肖运势信息时出错"),console.error(a.t1);case 51:return a.prev=51,e.loading=!1,a.finish(51);case 54:case"end":return a.stop()}}),a,null,[[4,47,51,54]])})))()}}};const F=(0,U.Z)($,[["render",k],["__scopeId","data-v-e59afdd4"]]);var N=F}}]);
//# sourceMappingURL=579-legacy.60e557e4.js.map