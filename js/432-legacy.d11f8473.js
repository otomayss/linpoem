"use strict";(self["webpackChunklin_cms_vvlog"]=self["webpackChunklin_cms_vvlog"]||[]).push([[432],{99432:function(e,r,t){t.r(r),t.d(r,{default:function(){return h}});var n=t(6808),o={class:"margin-top-lg"};function i(e,r,t,i,s,u){var a=(0,n.up)("el-button"),c=(0,n.up)("router-link"),l=(0,n.up)("el-alert");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(c,{to:{path:"/index"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(a,{type:"primary"},{default:(0,n.w5)((function(){return[(0,n.Uk)("回到首页")]})),_:1})]})),_:1}),(0,n._)("div",o,[1==s.error?((0,n.wg)(),(0,n.j4)(l,{key:0,title:s.errorMsg,type:"error"},null,8,["title"])):(0,n.kq)("",!0)])])}var s=t(46559),u=t(78955),a=t(99241),c=t(52194),l=t(43683),f=t(78307),v=t(94839),p=(t(10299),{data:function(){return{error:!1,errorMsg:""}},created:function(){var e=v.kN.service({fullscreen:!0,text:"登录中。。。",lock:!0}),r=this.$route.query;if(!r||!r.token)return this.errorMsg="无效的登录",this.error=!0,void e.close();(0,f.Fm)(r.token),e.close(),this.getInformation()},methods:(0,a.Z)((0,a.Z)({},(0,c.nv)(["loginOut","setUserAndState"])),{},{getInformation:function(){var e=this;return(0,u.Z)((0,s.Z)().mark((function r(){var t,n;return(0,s.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.Z.getPermissions();case 3:t=r.sent,e.setUserAndState(t),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.log(r.t0);case 10:return r.prev=10,n=window.localStorage.getItem("OAUTH_LOGIN_URL"),location.href=n,r.finish(10);case 14:case"end":return r.stop()}}),r,null,[[0,7,10,14]])})))()}})}),d=t(64186);const g=(0,d.Z)(p,[["render",i]]);var h=g}}]);
//# sourceMappingURL=432-legacy.d11f8473.js.map