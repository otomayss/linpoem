(self["webpackChunklin_cms_vvlog"]=self["webpackChunklin_cms_vvlog"]||[]).push([[482],{50324:function(e,t,a){var n=a(58158);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},93136:function(e,t,a){var n=a(42721),r=a(59030),o=a(17664),l=a(57036),i=a(73017),u=n(l),s=n("".slice),d=Math.ceil,c=function(e){return function(t,a,n){var l,c,m=o(i(t)),h=r(a),p=m.length,f=void 0===n?" ":o(n);return h<=p||""==f?m:(l=h-p,c=u(f,d(l/f.length)),c.length>l&&(c=s(c,0,l)),e?m+c:c+m)}};e.exports={start:c(!1),end:c(!0)}},57036:function(e,t,a){"use strict";var n=a(76628),r=a(17664),o=a(73017),l=RangeError;e.exports=function(e){var t=r(o(this)),a="",i=n(e);if(i<0||i==1/0)throw l("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(a+=t);return a}},85200:function(e,t,a){"use strict";var n=a(79053),r=a(93136).start,o=a(50324);n({target:"String",proto:!0,forced:o},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},63195:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var n=a(6808),r=function(e){return(0,n.dD)("data-v-0aa55870"),e=e(),(0,n.Cn)(),e},o={class:"form-column"},l={class:"form-row"},i={class:"form-item"},u=r((function(){return(0,n._)("strong",null,"姓名：",-1)})),s={class:"form-item"},d=r((function(){return(0,n._)("strong",null,"日期类型：",-1)})),c={class:"form-item"},m=r((function(){return(0,n._)("strong",null,"日期：",-1)})),h={class:"form-item"},p=r((function(){return(0,n._)("strong",null,"时辰：",-1)})),f={class:"form-item"},g=r((function(){return(0,n._)("strong",null,"性别：",-1)})),b={key:0,class:"form-item"},v=r((function(){return(0,n._)("strong",null,"是否闰月：",-1)}));function M(e,t,a,r,M,I){var D=(0,n.up)("el-input"),k=(0,n.up)("el-option"),y=(0,n.up)("el-select"),_=(0,n.up)("el-date-picker"),T=(0,n.up)("el-checkbox");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",l,[(0,n._)("div",i,[u,(0,n.Wm)(D,{modelValue:I.nameModel,"onUpdate:modelValue":t[0]||(t[0]=function(e){return I.nameModel=e}),placeholder:"选填"},null,8,["modelValue"])]),(0,n._)("div",s,[d,(0,n.Wm)(y,{modelValue:I.dateTypeModel,"onUpdate:modelValue":t[1]||(t[1]=function(e){return I.dateTypeModel=e}),placeholder:"请选择日期类型",onChange:I.handleDateTypeChange},{default:(0,n.w5)((function(){return[(0,n.Wm)(k,{label:"阳历",value:"solar"}),(0,n.Wm)(k,{label:"农历",value:"lunar"})]})),_:1},8,["modelValue","onChange"])]),(0,n._)("div",c,[m,(0,n.Wm)(_,{modelValue:I.dateModel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return I.dateModel=e}),type:"date",placeholder:"solar"===I.dateTypeModel?"请选择阳历日期":"请选择农历日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:I.handleDateChange},null,8,["modelValue","placeholder","onChange"])]),(0,n._)("div",h,[p,(0,n.Wm)(y,{modelValue:I.timeIndexModel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return I.timeIndexModel=e}),placeholder:"请选择时辰"},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(M.timeOptions,(function(e,t){return(0,n.wg)(),(0,n.j4)(k,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]),(0,n._)("div",f,[g,(0,n.Wm)(y,{modelValue:I.genderModel,"onUpdate:modelValue":t[4]||(t[4]=function(e){return I.genderModel=e}),placeholder:"请选择性别"},{default:(0,n.w5)((function(){return[(0,n.Wm)(k,{label:"男",value:"male"}),(0,n.Wm)(k,{label:"女",value:"female"})]})),_:1},8,["modelValue"])]),"lunar"===I.dateTypeModel?((0,n.wg)(),(0,n.iD)("div",b,[v,(0,n.Wm)(T,{modelValue:I.isLeapMonthModel,"onUpdate:modelValue":t[5]||(t[5]=function(e){return I.isLeapMonthModel=e})},{default:(0,n.w5)((function(){return[(0,n.Uk)("闰月")]})),_:1},8,["modelValue"])])):(0,n.kq)("",!0)])])}a(99133);var I=a(30653),D=a(52009),k=a(39821),y=a(6120),_={name:"AstroForm",components:{ElSelect:I.km,ElOption:I.BT,ElDatePicker:D.iJ,ElCheckbox:k.Xb,ElInput:y.EZ},props:{name:{type:String,default:""},dateType:{type:String,default:"solar"},date:{type:String,default:""},timeIndex:{type:String,default:"0"},gender:{type:String,default:"male"},isLeapMonth:{type:Boolean,default:!1}},data:function(){return{timeOptions:[{label:"早子时 (00:00-1:00)",value:"0"},{label:"丑时 (1:00-3:00)",value:"1"},{label:"寅时 (3:00-5:00)",value:"2"},{label:"卯时 (5:00-7:00)",value:"3"},{label:"辰时 (7:00-9:00)",value:"4"},{label:"巳时 (9:00-11:00)",value:"5"},{label:"午时 (11:00-13:00)",value:"6"},{label:"未时 (13:00-15:00)",value:"7"},{label:"申时 (15:00-17:00)",value:"8"},{label:"酉时 (17:00-19:00)",value:"9"},{label:"戌时 (19:00-21:00)",value:"10"},{label:"亥时 (21:00-23:00)",value:"11"},{label:"晚子时 (23:00-00:00)",value:"12"}]}},computed:{nameModel:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},dateTypeModel:{get:function(){return this.dateType},set:function(e){this.$emit("update:dateType",e)}},dateModel:{get:function(){return this.date},set:function(e){this.$emit("update:date",e)}},timeIndexModel:{get:function(){return this.timeIndex},set:function(e){this.$emit("update:timeIndex",e)}},genderModel:{get:function(){return this.gender},set:function(e){this.$emit("update:gender",e)}},isLeapMonthModel:{get:function(){return this.isLeapMonth},set:function(e){this.$emit("update:isLeapMonth",e)}}},methods:{handleDateTypeChange:function(){this.dateModel="",this.$emit("dateTypeChange")},handleDateChange:function(){this.isLeapMonthModel=!1,this.$emit("dateChange")},resetForm:function(){this.nameModel="",this.dateTypeModel="solar",this.dateModel="",this.timeIndexModel="0",this.genderModel="male",this.isLeapMonthModel=!1},getFormData:function(){return{name:this.nameModel,dateType:this.dateTypeModel,date:this.dateModel,timeIndex:this.timeIndexModel,gender:this.genderModel,isLeapMonth:this.isLeapMonthModel}}}},T=a(64186);const w=(0,T.Z)(_,[["render",M],["__scopeId","data-v-0aa55870"]]);var x=w},97686:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var n=a(6808),r=a.p+"img/banner.28b3ad0.78f5f75f.png",o=a(74935),l=a(73782),i=a(24744),u=a(49937),s=a.p+"img/homeImg6.fd62a0c.2f99f117.png",d=function(e){return(0,n.dD)("data-v-39753f84"),e=e(),(0,n.Cn)(),e},c={class:"bzhh-container"},m=d((function(){return(0,n._)("img",{src:r},null,-1)})),h=d((function(){return(0,n._)("div",{class:"page-title"},[(0,n._)("h2",null,"月老姻缘"),(0,n._)("div",{class:"title-decoration"},[(0,n._)("span",{class:"heart-icon"},"❤")])],-1)})),p={class:"couple-info"},f={class:"person-info male-info"},g=d((function(){return(0,n._)("div",{class:"info-title"},[(0,n._)("h3",null,"个人信息")],-1)})),b=d((function(){return(0,n._)("i",{class:"match-icon"},"❤",-1)})),v=(0,n.uE)('<img src="'+o+'" data-v-39753f84><img src="'+l+'" data-v-39753f84><img src="'+i+'" data-v-39753f84><img src="'+u+'" data-v-39753f84><img src="'+s+'" data-v-39753f84>',5);function M(e,t,a,r,o,l){var i=(0,n.up)("astro-form"),u=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",c,[m,h,(0,n._)("div",p,[(0,n._)("div",f,[g,(0,n.Wm)(i,{name:o.malename,"onUpdate:name":t[0]||(t[0]=function(e){return o.malename=e}),dateType:o.maleDateTime,"onUpdate:dateType":t[1]||(t[1]=function(e){return o.maleDateTime=e}),date:o.maleDate,"onUpdate:date":t[2]||(t[2]=function(e){return o.maleDate=e}),timeIndex:o.maleTimeIndex,"onUpdate:timeIndex":[t[3]||(t[3]=function(e){return o.maleTimeIndex=e}),l.calculateBazi],gender:o.maleGender,"onUpdate:gender":t[4]||(t[4]=function(e){return o.maleGender=e}),isLeapMonth:o.maleIsLeapMonth,"onUpdate:isLeapMonth":t[5]||(t[5]=function(e){return o.maleIsLeapMonth=e}),onDateTypeChange:l.handleMaleDateTypeChange,onDateChange:l.handleMaleDateChange},null,8,["name","dateType","date","timeIndex","gender","isLeapMonth","onDateTypeChange","onDateChange","onUpdate:timeIndex"])])]),(0,n.Wm)(u,{type:"danger",onClick:l.generateAstro,loading:o.loading,class:"generate-btn"},{default:(0,n.w5)((function(){return[b,(0,n.Uk)(" 姻缘分析 ")]})),_:1},8,["onClick","loading"]),v])}var I=a(46559),D=a(78955),k=(a(85200),a(67991),a(99133),a(94343),a(26269),a(10711),a(63195)),y=a(6120),_=a(1235),T=a(67347),w=a.n(T),x={components:{AstroForm:k.Z,ElInput:y.EZ},data:function(){return{malename:"",maleDateTime:"solar",maleDate:"",maleTimeIndex:"0",maleGender:"male",maleIsLeapMonth:!1,loading:!1,baziInfo:null,showBaziInfo:!1,baziStr:""}},methods:{handleMaleDateTypeChange:function(){this.maleDate=""},handleMaleDateChange:function(){this.maleIsLeapMonth=!1,this.calculateBazi()},getCurrentDate:function(){var e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");this.currentTime="".concat(t,"-").concat(a,"-").concat(n)},generateAstro:function(){var e=this;return(0,D.Z)((0,I.Z)().mark((function t(){var a,n,r,o,l;return(0,I.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.maleDate){t.next=3;break}return _.z8.warning("请选择出生日期"),t.abrupt("return");case 3:e.loading=!0,t.prev=4,a="",t.t0=e.maleTimeIndex,t.next="0"===t.t0?9:"1"===t.t0?11:"2"===t.t0?13:"3"===t.t0?15:"4"===t.t0?17:"5"===t.t0?19:"6"===t.t0?21:"7"===t.t0?23:"8"===t.t0?25:"9"===t.t0?27:"10"===t.t0?29:"11"===t.t0?31:"12"===t.t0?33:35;break;case 9:return a="早子时 (00:00-1:00)",t.abrupt("break",37);case 11:return a="丑时 (1:00-3:00)",t.abrupt("break",37);case 13:return a="寅时 (3:00-5:00)",t.abrupt("break",37);case 15:return a="卯时 (5:00-7:00)",t.abrupt("break",37);case 17:return a="辰时 (7:00-9:00)",t.abrupt("break",37);case 19:return a="巳时 (9:00-11:00)",t.abrupt("break",37);case 21:return a="午时 (11:00-13:00)",t.abrupt("break",37);case 23:return a="未时 (13:00-15:00)",t.abrupt("break",37);case 25:return a="申时 (15:00-17:00)",t.abrupt("break",37);case 27:return a="酉时 (17:00-19:00)",t.abrupt("break",37);case 29:return a="戌时 (19:00-21:00)",t.abrupt("break",37);case 31:return a="亥时 (21:00-23:00)",t.abrupt("break",37);case 33:return a="晚子时 (23:00-00:00)",t.abrupt("break",37);case 35:return a="未知时辰",t.abrupt("break",37);case 37:e.getCurrentDate(),n="我需要你对我的八字进行分析，看看我的姻缘状况如何，这是信息：",r=n+"姓名:"+e.malename+",日期类型:"+("solar"===e.maleDateTime?"阳历":"农历")+",生日:"+e.maleDate+",时辰:"+a+",性别:"+("male"===e.malename?"男":"女"),"lunar"===e.maleDateTime&&e.maleIsLeapMonth&&(r+=",闰月:是"),r+=e.baziStr,o=encodeURIComponent(r);try{l=window.open("/#/chat?user_input=".concat(o)),l&&!l.closed&&"undefined"!==typeof l.closed||(window.location.href="/#/chat?user_input=".concat(o))}catch(i){window.location.href="/#/chat?user_input=".concat(o)}t.next=50;break;case 46:t.prev=46,t.t1=t["catch"](4),_.z8.error("生成姻缘信息时出错"),console.error(t.t1);case 50:return t.prev=50,e.loading=!1,t.finish(50);case 53:case"end":return t.stop()}}),t,null,[[4,46,50,53]])})))()},getBaziStr:function(){this.baziStr=",八字信息如下："+this.baziInfo.char8.year.name+" "+this.baziInfo.char8.month.name+" "+this.baziInfo.char8.day.name+" "+this.baziInfo.char8.hour.name},calculateBazi:function(){if(this.maleDate&&this.maleTimeIndex)try{var e,t="";if("solar"===this.maleDateTime){if(!/^\d{4}-\d{2}-\d{2}$/.test(this.maleDate))return void _.z8.error("阳历日期格式不正确，请使用YYYY-MM-DD格式")}else if(!/^\d{4}-\d{1,2}-\d{1,2}$/.test(this.maleDate))return void _.z8.error("农历日期格式不正确，请使用YYYY-MM-DD格式");switch(this.maleTimeIndex){case"0":t="00:30";break;case"1":t="02:00";break;case"2":t="04:00:";break;case"3":t="06:00";break;case"4":t="08:00";break;case"5":t="10:00";break;case"6":t="12:00";break;case"7":t="14:00";break;case"8":t="16:00";break;case"9":t="18:00";break;case"10":t="20:00";break;case"11":t="22:00";break;case"12":t="23:30";break;default:t="12:00:00";break}if("solar"===this.maleDateTime)try{if(e=new(w())("".concat(this.maleDate," ").concat(t)),this.baziInfo=e,this.getBaziStr(),console.log("".concat(this.maleDate," ").concat(t)),!e)return void _.z8.error("创建日期对象失败，请检查日期是否有效")}catch(i){return console.error("创建阳历日期对象失败:",i),void _.z8.error("创建阳历日期对象失败，请检查日期是否有效")}else try{var a=this.maleDate.split("-"),n=parseInt(a[0]),r=parseInt(a[1]),o=parseInt(a[2]),l={year:n,month:this.maleIsLeapMonth?r+100:r,day:o,hour:parseInt(this.maleTimeIndex)};if(e=w().fromLunar(l),this.baziInfo=e,this.getBaziStr(),console.log("农历数据:",l),!e)return void _.z8.error("创建农历日期对象失败，请检查日期是否有效")}catch(i){return console.error("创建农历日期对象失败:",i),void _.z8.error("创建农历日期对象失败，请检查日期是否有效")}if(this.baziInfo=e,!this.baziInfo)throw new Error("获取八字信息失败");this.showBaziInfo=!0}catch(i){console.error("计算八字信息时出错:",i),this.showBaziInfo=!1}else this.showBaziInfo=!1}}},z=a(64186);const C=(0,z.Z)(x,[["render",M],["__scopeId","data-v-39753f84"]]);var L=C},74935:function(e,t,a){"use strict";e.exports=a.p+"img/homeImg1.ce17d5b.d524e810.png"},73782:function(e,t,a){"use strict";e.exports=a.p+"img/homeImg2.130e49b.f9db512f.png"},24744:function(e,t,a){"use strict";e.exports=a.p+"img/homeImg4.d4129f7.d21eab12.png"},49937:function(e,t,a){"use strict";e.exports=a.p+"img/homeImg5.5c0286e.26e4c8cf.png"}}]);
//# sourceMappingURL=482-legacy.202f14b9.js.map