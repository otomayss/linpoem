"use strict";(self["webpackChunklin_cms_vvlog"]=self["webpackChunklin_cms_vvlog"]||[]).push([[292],{1292:function(a,i,e){e.r(i),e.d(i,{default:function(){return Z}});var s=e(6808);const t=a=>((0,s.dD)("data-v-1323e99f"),a=a(),(0,s.Cn)(),a),c={class:"vip-container"},d=t((()=>(0,s._)("div",{class:"vip-header"},[(0,s._)("div",{class:"vip-title"},"开通会员立享权益"),(0,s._)("div",{class:"vip-subtitle"},"邻诗VIP专属，尽享会员权益")],-1))),l={class:"vip-cards"},n={class:"vip-card times1"},v=(0,s.uE)('<div class="card-badge" data-v-1323e99f>超值体验</div><div class="card-header" data-v-1323e99f>首充特惠卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥4.9</span><span class="original" data-v-1323e99f>¥49.9</span></div><div class="card-info" data-v-1323e99f>约1元/次，轻松体验</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>10次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期30天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>基础优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>标准响应速度</div></div>',5),o=t((()=>(0,s._)("span",null,"立即开通",-1))),r=[o],f={class:"vip-card times20"},m=(0,s.uE)('<div class="card-badge" data-v-1323e99f>性价比之选</div><div class="card-header" data-v-1323e99f>20次卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥9.9</span><span class="original" data-v-1323e99f>¥99</span></div><div class="card-info" data-v-1323e99f>约0.5元/次，轻松体验</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>20次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期30天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>基础优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>标准响应速度</div></div>',5),h=t((()=>(0,s._)("span",null,"立即开通",-1))),u=[h],p={class:"vip-card month"},b=(0,s.uE)('<div class="card-badge popular" data-v-1323e99f>人气之选</div><div class="card-header" data-v-1323e99f>VIP · 月卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥19.9</span><span class="original" data-v-1323e99f>¥199</span></div><div class="card-info" data-v-1323e99f>约0.66元/天，无限畅享</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无限次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期30天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>更高的优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>更快的响应速度</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>专属客服支持</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>尊贵vip金色头像框</div></div>',5),g=t((()=>(0,s._)("span",null,"立即开通",-1))),k=[g],_={class:"vip-card year"},w=(0,s.uE)('<div class="card-badge premium" data-v-1323e99f>尊享特权</div><div class="card-header" data-v-1323e99f>VIP · 年卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥49.9</span><span class="original" data-v-1323e99f>¥599</span></div><div class="card-info" data-v-1323e99f>约0.13元/天，超值优惠</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无限次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期365天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>最高的优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>即时响应</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>全年免费升级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>尊贵vip金色头像框</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>24/7专属客服</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>独家功能抢先体验</div></div>',5),y=t((()=>(0,s._)("span",null,"立即开通",-1))),T=[y],I={class:"vip-card year"},P=(0,s.uE)('<div class="card-badge zhubo" data-v-1323e99f>主播专享</div><div class="card-header" data-v-1323e99f>主播卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥29.9</span><span class="original" data-v-1323e99f>¥399</span></div><div class="card-info" data-v-1323e99f>主播必备功能</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无限次</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>全自动</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>帮助快速涨粉</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>直播加速不拖沓</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i><a href="https://blog.linpoem.online" data-v-1323e99f>https://blog.linpoem.online</a></div></div>',5),V=t((()=>(0,s._)("span",null,"立即开通",-1))),C=[V];function A(a,i,e,t,o,h){const g=(0,s.up)("order-pay-dialog");return(0,s.wg)(),(0,s.iD)("div",c,[d,(0,s._)("div",l,[(0,s._)("div",n,[v,(0,s._)("button",{class:"card-button",onClick:i[0]||(i[0]=a=>h.showPay(3))},r)]),(0,s._)("div",f,[m,(0,s._)("button",{class:"card-button",onClick:i[1]||(i[1]=a=>h.showPay(0))},u)]),(0,s._)("div",p,[b,(0,s._)("button",{class:"card-button",onClick:i[2]||(i[2]=a=>h.showPay(1))},k)]),(0,s._)("div",_,[w,(0,s._)("button",{class:"card-button",onClick:i[3]||(i[3]=a=>h.showPay(2))},T)]),(0,s._)("div",I,[P,(0,s._)("button",{class:"card-button",onClick:i[4]||(i[4]=a=>h.showPay(4))},C)])]),(0,s.Wm)(g,{ref:"orderPay"},null,512)])}var x=e(11490),z=e(56151),$={components:{OrderPayDialog:x.Z},data(){return{vipTypes:{0:{name:"20次卡",price:9.9},1:{name:"月卡",price:19.9},2:{name:"年卡",price:49.9},3:{name:"首充卡",price:4.9},4:{name:"主播卡",price:29.9}}}},methods:{async showPay(a){if(this.loggedIn){let i=await z.Z.postOrderNo2(a);if(""!=i.payment_no){const e=this.vipTypes[a]?this.vipTypes[a].name:"未知会员卡";this.$refs["orderPay"].show(i,e)}else this.$message.error("获取订单号失败")}else this.$message.error("请先登录后再下单")}},computed:{loggedIn(){return this.$store.state.loggedIn}}},D=e(64186);const W=(0,D.Z)($,[["render",A],["__scopeId","data-v-1323e99f"]]);var Z=W},11490:function(a,i,e){e.d(i,{Z:function(){return O}});var s=e(6808),t=e(59511),c=e(3757);const d=a=>((0,s.dD)("data-v-672539b3"),a=a(),(0,s.Cn)(),a),l={"element-loading-background":"rgba(0, 0, 0, 0.7)"},n={class:"dialog-header"},v=d((()=>(0,s._)("i",{class:"el-icon-shopping-cart-2"},null,-1))),o={class:"order-info"},r={class:"qrcode-wrapper"},f={class:"qrcode-amount"},m={class:"amount-value"},h=d((()=>(0,s._)("img",{src:c,alt:"微信支付二维码",class:"qrcode-image"},null,-1))),u=d((()=>(0,s._)("div",{class:"scan-tip"},"请使用微信扫一扫",-1))),p={class:"compact-countdown"},b=d((()=>(0,s._)("span",{class:"countdown-label"},"支付倒计时：",-1))),g={class:"countdown-time"},k={class:"info-item"},_=d((()=>(0,s._)("div",{class:"label"},"会员信息",-1))),w={class:"value highlight"},y={class:"info-item"},T=d((()=>(0,s._)("div",{class:"label"},"订单号",-1))),I={class:"value"},P={class:"info-item"},V=d((()=>(0,s._)("div",{class:"label"},"订单状态",-1))),C={class:"value"},A=d((()=>(0,s._)("div",{class:"payment-tips"},[(0,s._)("i",{class:"el-icon-info-filled"}),(0,s._)("span",null,"支付小贴士：如遇支付问题，请联系站长哦！")],-1))),x={class:"success-content"},z=d((()=>(0,s._)("i",{class:"el-icon-circle-check success-icon"},null,-1))),$=d((()=>(0,s._)("h2",null,"恭喜您成为邻诗会员！",-1)));function D(a,i,e,c,d,D){const W=(0,s.up)("el-progress"),Z=(0,s.up)("el-form"),E=(0,s.up)("el-dialog"),U=(0,s.up)("el-button"),O=(0,s.Q2)("loading");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(E,{width:"420px",class:"payment-dialog",modelValue:d.dialogTableVisible,"onUpdate:modelValue":i[0]||(i[0]=a=>d.dialogTableVisible=a),"close-on-click-modal":!1},{header:(0,s.w5)((()=>[(0,s._)("div",n,[v,(0,s._)("span",null,"微信支付页 - "+(0,t.zw)(d.activeIndex),1)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Z,{model:d.form,"label-position":"top",ref:"form"},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",r,[(0,s._)("div",f,[(0,s._)("span",m,"¥"+(0,t.zw)(d.form.amount),1)]),h,u,(0,s._)("div",p,[b,(0,s._)("span",g,(0,t.zw)(D.formatTime(d.remainingTime)),1),(0,s.Wm)(W,{percentage:D.timePercentage,"show-text":!1,"stroke-width":4,status:"warning",class:"mini-progress"},null,8,["percentage"])])]),(0,s._)("div",k,[_,(0,s._)("div",w,(0,t.zw)(d.info),1)]),(0,s._)("div",y,[T,(0,s._)("div",I,(0,t.zw)(d.form.payment_no),1)]),(0,s._)("div",P,[V,(0,s._)("div",C,(0,t.zw)(d.form.status),1)]),A])])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,s.Wm)(E,{width:"420px",class:"success-dialog",modelValue:d.congratulationsVisible,"onUpdate:modelValue":i[1]||(i[1]=a=>d.congratulationsVisible=a),"close-on-click-modal":!1},{default:(0,s.w5)((()=>[(0,s._)("div",x,[z,$,(0,s.Wm)(U,{type:"primary",onClick:D.closeCongratulations,class:"close-button"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 开始体验 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])])),[[O,d.loading]])}var W=e(56151),Z={name:"OrderPayDialog",data(){return{isPaid:!1,isTrans:!1,payUrl:"",dialogTableVisible:!1,congratulationsVisible:!1,form:{amount:0,create_time:"AAA",payment_id:"AAA",payment_no:"AAA",status:"AAA",user_id:0},activeIndex:"",loading:!1,info:"",remainingTime:300,maxTime:300,countdownTimer:null}},computed:{timePercentage(){return this.remainingTime/this.maxTime*100}},watch:{dialogTableVisible(a){a||(this.loading=!1,this.isPaid=!1,this.isTrans=!1,this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null))}},methods:{show(a,i){this.form=a,this.info=i||"VIP · 1年",this.dialogTableVisible=!0,this.activeIndex=this.form.payment_no,this.loading=!1,this.startCheckPay(this.form.payment_id),this.startCountdown()},closeCongratulations(){this.congratulationsVisible=!1,this.loading=!1},async CheckPay(a){try{const i=await W.Z.postOrderNoPayCheck2(a);"支付成功"===i&&(this.form.status=i,this.dialogTableVisible=!1,this.congratulationsVisible=!0,clearInterval(this.checkPayInterval),this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.$message.success("恭喜您成为邻诗会员！"))}catch(i){console.log(i)}},startCheckPay(a){const i=3e5;let e=0;this.checkPayInterval=setInterval((async()=>{await this.CheckPay(a),e+=5e3,e>=i&&(clearInterval(this.checkPayInterval),console.log("Payment check timeout."),this.form.status="支付失败",this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null))}),5e3)},formatTime(a){const i=Math.floor(a/60),e=a%60;return`${i.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},startCountdown(){this.remainingTime=this.maxTime,this.countdownTimer&&clearInterval(this.countdownTimer),this.countdownTimer=setInterval((()=>{this.remainingTime>0?this.remainingTime-=1:(clearInterval(this.countdownTimer),this.countdownTimer=null)}),1e3)}},beforeUnmount(){this.checkPayInterval&&clearInterval(this.checkPayInterval),this.countdownTimer&&clearInterval(this.countdownTimer)}},E=e(64186);const U=(0,E.Z)(Z,[["render",D],["__scopeId","data-v-672539b3"]]);var O=U},3757:function(a,i,e){a.exports=e.p+"img/wxpay.29ad377b.png"}}]);
//# sourceMappingURL=292.bf920733.js.map