(self["webpackChunklin_cms_vvlog"]=self["webpackChunklin_cms_vvlog"]||[]).push([[292],{50324:function(e,a,i){var t=i(58158);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(t)},93136:function(e,a,i){var t=i(42721),n=i(59030),c=i(17664),s=i(57036),d=i(73017),l=t(s),r=t("".slice),o=Math.ceil,v=function(e){return function(a,i,t){var s,v,f=c(d(a)),u=n(i),m=f.length,h=void 0===t?" ":c(t);return u<=m||""==h?f:(s=u-m,v=l(h,o(s/h.length)),v.length>s&&(v=r(v,0,s)),e?f+v:v+f)}};e.exports={start:v(!1),end:v(!0)}},57036:function(e,a,i){"use strict";var t=i(76628),n=i(17664),c=i(73017),s=RangeError;e.exports=function(e){var a=n(c(this)),i="",d=t(e);if(d<0||d==1/0)throw s("Wrong number of repetitions");for(;d>0;(d>>>=1)&&(a+=a))1&d&&(i+=a);return i}},85200:function(e,a,i){"use strict";var t=i(79053),n=i(93136).start,c=i(50324);t({target:"String",proto:!0,forced:c},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},1292:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return U}});var t=i(6808),n=function(e){return(0,t.dD)("data-v-1323e99f"),e=e(),(0,t.Cn)(),e},c={class:"vip-container"},s=n((function(){return(0,t._)("div",{class:"vip-header"},[(0,t._)("div",{class:"vip-title"},"开通会员立享权益"),(0,t._)("div",{class:"vip-subtitle"},"邻诗VIP专属，尽享会员权益")],-1)})),d={class:"vip-cards"},l={class:"vip-card times1"},r=(0,t.uE)('<div class="card-badge" data-v-1323e99f>超值体验</div><div class="card-header" data-v-1323e99f>首充特惠卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥4.9</span><span class="original" data-v-1323e99f>¥49.9</span></div><div class="card-info" data-v-1323e99f>约1元/次，轻松体验</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>10次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期30天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>基础优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>标准响应速度</div></div>',5),o=n((function(){return(0,t._)("span",null,"立即开通",-1)})),v=[o],f={class:"vip-card times20"},u=(0,t.uE)('<div class="card-badge" data-v-1323e99f>性价比之选</div><div class="card-header" data-v-1323e99f>20次卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥9.9</span><span class="original" data-v-1323e99f>¥99</span></div><div class="card-info" data-v-1323e99f>约0.5元/次，轻松体验</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>20次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期30天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>基础优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>标准响应速度</div></div>',5),m=n((function(){return(0,t._)("span",null,"立即开通",-1)})),h=[m],p={class:"vip-card month"},b=(0,t.uE)('<div class="card-badge popular" data-v-1323e99f>人气之选</div><div class="card-header" data-v-1323e99f>VIP · 月卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥19.9</span><span class="original" data-v-1323e99f>¥199</span></div><div class="card-info" data-v-1323e99f>约0.66元/天，无限畅享</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无限次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期30天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>更高的优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>更快的响应速度</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>专属客服支持</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>尊贵vip金色头像框</div></div>',5),g=n((function(){return(0,t._)("span",null,"立即开通",-1)})),k=[g],w={class:"vip-card year"},_=(0,t.uE)('<div class="card-badge premium" data-v-1323e99f>尊享特权</div><div class="card-header" data-v-1323e99f>VIP · 年卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥49.9</span><span class="original" data-v-1323e99f>¥599</span></div><div class="card-info" data-v-1323e99f>约0.13元/天，超值优惠</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无广告</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无限次AI对话</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>有效期365天</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>最高的优先级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>即时响应</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>全年免费升级</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>十二宫位单宫位详批</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>三方四正合盘详解</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>尊贵vip金色头像框</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>24/7专属客服</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>独家功能抢先体验</div></div>',5),y=n((function(){return(0,t._)("span",null,"立即开通",-1)})),T=[y],I={class:"vip-card year"},P=(0,t.uE)('<div class="card-badge zhubo" data-v-1323e99f>主播专享</div><div class="card-header" data-v-1323e99f>主播卡</div><div class="card-price" data-v-1323e99f><span class="price" data-v-1323e99f>¥29.9</span><span class="original" data-v-1323e99f>¥399</span></div><div class="card-info" data-v-1323e99f>主播必备功能</div><div class="card-benefits" data-v-1323e99f><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>无限次</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>全自动</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>帮助快速涨粉</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i>直播加速不拖沓</div><div class="benefit-item" data-v-1323e99f><i class="el-icon-check" data-v-1323e99f></i><a href="https://blog.linpoem.online" data-v-1323e99f>https://blog.linpoem.online</a></div></div>',5),x=n((function(){return(0,t._)("span",null,"立即开通",-1)})),V=[x];function C(e,a,i,n,o,m){var g=(0,t.up)("order-pay-dialog");return(0,t.wg)(),(0,t.iD)("div",c,[s,(0,t._)("div",d,[(0,t._)("div",l,[r,(0,t._)("button",{class:"card-button",onClick:a[0]||(a[0]=function(e){return m.showPay(3)})},v)]),(0,t._)("div",f,[u,(0,t._)("button",{class:"card-button",onClick:a[1]||(a[1]=function(e){return m.showPay(0)})},h)]),(0,t._)("div",p,[b,(0,t._)("button",{class:"card-button",onClick:a[2]||(a[2]=function(e){return m.showPay(1)})},k)]),(0,t._)("div",w,[_,(0,t._)("button",{class:"card-button",onClick:a[3]||(a[3]=function(e){return m.showPay(2)})},T)]),(0,t._)("div",I,[P,(0,t._)("button",{class:"card-button",onClick:a[4]||(a[4]=function(e){return m.showPay(4)})},V)])]),(0,t.Wm)(g,{ref:"orderPay"},null,512)])}var A=i(46559),Z=i(78955),z=(i(99133),i(11490)),S=i(56151),W={components:{OrderPayDialog:z.Z},data:function(){return{vipTypes:{0:{name:"20次卡",price:9.9},1:{name:"月卡",price:19.9},2:{name:"年卡",price:49.9},3:{name:"首充卡",price:4.9},4:{name:"主播卡",price:29.9}}}},methods:{showPay:function(e){var a=this;return(0,Z.Z)((0,A.Z)().mark((function i(){var t,n;return(0,A.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!a.loggedIn){i.next=7;break}return i.next=3,S.Z.postOrderNo2(e);case 3:t=i.sent,""!=t.payment_no?(n=a.vipTypes[e]?a.vipTypes[e].name:"未知会员卡",a.$refs["orderPay"].show(t,n)):a.$message.error("获取订单号失败"),i.next=8;break;case 7:a.$message.error("请先登录后再下单");case 8:case"end":return i.stop()}}),i)})))()}},computed:{loggedIn:function(){return this.$store.state.loggedIn}}},D=i(64186);const E=(0,D.Z)(W,[["render",C],["__scopeId","data-v-1323e99f"]]);var U=E},11490:function(e,a,i){"use strict";i.d(a,{Z:function(){return q}});var t=i(6808),n=i(59511),c=i(3757),s=function(e){return(0,t.dD)("data-v-672539b3"),e=e(),(0,t.Cn)(),e},d={"element-loading-background":"rgba(0, 0, 0, 0.7)"},l={class:"dialog-header"},r=s((function(){return(0,t._)("i",{class:"el-icon-shopping-cart-2"},null,-1)})),o={class:"order-info"},v={class:"qrcode-wrapper"},f={class:"qrcode-amount"},u={class:"amount-value"},m=s((function(){return(0,t._)("img",{src:c,alt:"微信支付二维码",class:"qrcode-image"},null,-1)})),h=s((function(){return(0,t._)("div",{class:"scan-tip"},"请使用微信扫一扫",-1)})),p={class:"compact-countdown"},b=s((function(){return(0,t._)("span",{class:"countdown-label"},"支付倒计时：",-1)})),g={class:"countdown-time"},k={class:"info-item"},w=s((function(){return(0,t._)("div",{class:"label"},"会员信息",-1)})),_={class:"value highlight"},y={class:"info-item"},T=s((function(){return(0,t._)("div",{class:"label"},"订单号",-1)})),I={class:"value"},P={class:"info-item"},x=s((function(){return(0,t._)("div",{class:"label"},"订单状态",-1)})),V={class:"value"},C=s((function(){return(0,t._)("div",{class:"payment-tips"},[(0,t._)("i",{class:"el-icon-info-filled"}),(0,t._)("span",null,"支付小贴士：如遇支付问题，请联系站长哦！")],-1)})),A={class:"success-content"},Z=s((function(){return(0,t._)("i",{class:"el-icon-circle-check success-icon"},null,-1)})),z=s((function(){return(0,t._)("h2",null,"恭喜您成为邻诗会员！",-1)}));function S(e,a,i,c,s,S){var W=(0,t.up)("el-progress"),D=(0,t.up)("el-form"),E=(0,t.up)("el-dialog"),U=(0,t.up)("el-button"),$=(0,t.Q2)("loading");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(E,{width:"420px",class:"payment-dialog",modelValue:s.dialogTableVisible,"onUpdate:modelValue":a[0]||(a[0]=function(e){return s.dialogTableVisible=e}),"close-on-click-modal":!1},{header:(0,t.w5)((function(){return[(0,t._)("div",l,[r,(0,t._)("span",null,"微信支付页 - "+(0,n.zw)(s.activeIndex),1)])]})),default:(0,t.w5)((function(){return[(0,t.Wm)(D,{model:s.form,"label-position":"top",ref:"form"},{default:(0,t.w5)((function(){return[(0,t._)("div",o,[(0,t._)("div",v,[(0,t._)("div",f,[(0,t._)("span",u,"¥"+(0,n.zw)(s.form.amount),1)]),m,h,(0,t._)("div",p,[b,(0,t._)("span",g,(0,n.zw)(S.formatTime(s.remainingTime)),1),(0,t.Wm)(W,{percentage:S.timePercentage,"show-text":!1,"stroke-width":4,status:"warning",class:"mini-progress"},null,8,["percentage"])])]),(0,t._)("div",k,[w,(0,t._)("div",_,(0,n.zw)(s.info),1)]),(0,t._)("div",y,[T,(0,t._)("div",I,(0,n.zw)(s.form.payment_no),1)]),(0,t._)("div",P,[x,(0,t._)("div",V,(0,n.zw)(s.form.status),1)]),C])]})),_:1},8,["model"])]})),_:1},8,["modelValue"]),(0,t.Wm)(E,{width:"420px",class:"success-dialog",modelValue:s.congratulationsVisible,"onUpdate:modelValue":a[1]||(a[1]=function(e){return s.congratulationsVisible=e}),"close-on-click-modal":!1},{default:(0,t.w5)((function(){return[(0,t._)("div",A,[Z,z,(0,t.Wm)(U,{type:"primary",onClick:S.closeCongratulations,class:"close-button"},{default:(0,t.w5)((function(){return[(0,t.Uk)(" 开始体验 ")]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue"])])),[[$,s.loading]])}var W=i(46559),D=i(78955),E=(i(67991),i(85200),i(14632),i(5982),i(56151)),U={name:"OrderPayDialog",data:function(){return{isPaid:!1,isTrans:!1,payUrl:"",dialogTableVisible:!1,congratulationsVisible:!1,form:{amount:0,create_time:"AAA",payment_id:"AAA",payment_no:"AAA",status:"AAA",user_id:0},activeIndex:"",loading:!1,info:"",remainingTime:300,maxTime:300,countdownTimer:null}},computed:{timePercentage:function(){return this.remainingTime/this.maxTime*100}},watch:{dialogTableVisible:function(e){e||(this.loading=!1,this.isPaid=!1,this.isTrans=!1,this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null))}},methods:{show:function(e,a){this.form=e,this.info=a||"VIP · 1年",this.dialogTableVisible=!0,this.activeIndex=this.form.payment_no,this.loading=!1,this.startCheckPay(this.form.payment_id),this.startCountdown()},closeCongratulations:function(){this.congratulationsVisible=!1,this.loading=!1},CheckPay:function(e){var a=this;return(0,D.Z)((0,W.Z)().mark((function i(){var t;return(0,W.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,E.Z.postOrderNoPayCheck2(e);case 3:t=i.sent,"支付成功"===t&&(a.form.status=t,a.dialogTableVisible=!1,a.congratulationsVisible=!0,clearInterval(a.checkPayInterval),a.countdownTimer&&(clearInterval(a.countdownTimer),a.countdownTimer=null),a.$message.success("恭喜您成为邻诗会员！")),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},startCheckPay:function(e){var a=this,i=3e5,t=0;this.checkPayInterval=setInterval((0,D.Z)((0,W.Z)().mark((function n(){return(0,W.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.CheckPay(e);case 2:t+=5e3,t>=i&&(clearInterval(a.checkPayInterval),console.log("Payment check timeout."),a.form.status="支付失败",a.countdownTimer&&(clearInterval(a.countdownTimer),a.countdownTimer=null));case 4:case"end":return n.stop()}}),n)}))),5e3)},formatTime:function(e){var a=Math.floor(e/60),i=e%60;return"".concat(a.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))},startCountdown:function(){var e=this;this.remainingTime=this.maxTime,this.countdownTimer&&clearInterval(this.countdownTimer),this.countdownTimer=setInterval((function(){e.remainingTime>0?e.remainingTime-=1:(clearInterval(e.countdownTimer),e.countdownTimer=null)}),1e3)}},beforeUnmount:function(){this.checkPayInterval&&clearInterval(this.checkPayInterval),this.countdownTimer&&clearInterval(this.countdownTimer)}},$=i(64186);const O=(0,$.Z)(U,[["render",S],["__scopeId","data-v-672539b3"]]);var q=O},3757:function(e,a,i){"use strict";e.exports=i.p+"img/wxpay.29ad377b.png"}}]);
//# sourceMappingURL=292-legacy.f955b293.js.map